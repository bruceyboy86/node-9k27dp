<!-- {{ observableData | json }} -->

<p>
  The select-all checkbox should be in an indeterminate state if some but not
  all items are selected.
</p>
<p>
  Only those that have a status of "available" are currently able to be
  downloaded. Your implementation should manage this.
</p>
<p>download is working but need to filter files</p>
<p>Add interfaces</p>
<p>Add styling</p>
<p>Add tests</p>

<table id="mainTable">
  <tr id="navRow" class="header-row">
    <th>
      <input
        type="checkbox"
        [(ngModel)]="checkedAll"
        (change)="changeAllChecks(checkedAll)"
        id="item0"
        name="check-me"
      />
    </th>
    <th>
      {{ selectCount >= 1 ? 'Selected ' + selectCount : 'None Selected' }}
    </th>
    <th>
      <button [disabled]="!selectCount" (click)="downloadSelected()">
        Download selected
      </button>
    </th>
    <th>&nbsp;</th>
    <th>&nbsp;</th>
  </tr>
  <tr class="header-row">
    <th>&nbsp;</th>
    <th *ngFor="let key of observableData[0] | keys">{{ key | titlecase }}</th>
  </tr>
  <tr
    (click)="changeMyCheckValue(observableData[i].checked, i)"
    *ngFor="let item of observableData; index as i"
    [class]="
      observableData[i].checked ? item.status + ' selected' : item.status
    "
  >
    <td>
      <input
        type="checkbox"
        [(ngModel)]="observableData[i].checked"
        (change)="checkValue()"
        [id]="i"
        name="check-me"
      />
    </td>
    <td>{{ item.name }}</td>
    <td>{{ item.device }}</td>
    <td>{{ item.path }}</td>
    <td id="status">
      {{ item.status | titlecase }}
    </td>
  </tr>
</table>